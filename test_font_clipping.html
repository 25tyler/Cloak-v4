<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Font Clipping Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            background: #1a1a1a;
            color: #fff;
        }
        .test-section {
            background: #2a2a2a;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 2px solid #444;
        }
        .test-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #4CAF50;
        }
        .narrow {
            width: 300px;
            background: #1a1a1a;
            padding: 15px;
            border: 1px solid #555;
            margin: 10px 0;
        }
        .medium {
            width: 500px;
            background: #1a1a1a;
            padding: 15px;
            border: 1px solid #555;
            margin: 10px 0;
        }
        .wide {
            width: 800px;
            background: #1a1a1a;
            padding: 15px;
            border: 1px solid #555;
            margin: 10px 0;
        }
        .small-text {
            font-size: 12px;
        }
        .normal-text {
            font-size: 16px;
        }
        .large-text {
            font-size: 24px;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            background: #2d3a5a;
            color: #87CEEB;
        }
        .instructions {
            background: #3a2d5a;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Font Clipping Test - Line Break Rendering</h1>
    
    <div class="instructions">
        <p><strong>Purpose:</strong> Test if the last character clipping issue at line breaks is fixed.</p>
        <p><strong>What to check:</strong> Look at the end of each line - the last character should be fully visible, not cut off.</p>
        <p><strong>Status:</strong> <span id="status">Waiting for encryption...</span></p>
    </div>
    
    <div class="test-section">
        <div class="test-title">Test 1: Narrow Container (300px) - Forces Many Line Breaks</div>
        <div class="narrow normal-text">
            This is a test paragraph designed to force multiple line breaks in a narrow container. The last character of each line should be fully visible and not cut off when the text wraps to the next line. We need to ensure that all characters render correctly even when text wraps.
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">Test 2: Medium Container (500px) - Normal Wrapping</div>
        <div class="medium normal-text">
            This paragraph tests normal text wrapping behavior in a medium-width container. Each line should end cleanly with the last character fully visible. The encryption font should render all characters properly without clipping at line boundaries. We want to verify that text rendering works correctly across different container widths.
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">Test 3: Wide Container (800px) - Fewer Line Breaks</div>
        <div class="wide normal-text">
            This is a wider container that will have fewer line breaks, testing how the font renders when lines are longer. The last character on each line should still be fully visible. This tests the edge case where text wraps less frequently but still needs to render correctly at break points.
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">Test 4: Small Text (12px) - Tight Spacing</div>
        <div class="narrow small-text">
            Small text size testing with tight spacing. This tests if the clipping fix works with smaller font sizes where characters are closer together. The last character should be visible even with reduced font size and tighter line spacing.
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">Test 5: Large Text (24px) - Larger Characters</div>
        <div class="medium large-text">
            Large text size testing to verify the fix works with bigger characters. Larger fonts may have different spacing requirements, so we need to ensure the last character renders fully even with increased font size.
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">Test 6: Multiple Paragraphs - Various Lengths</div>
        <div class="narrow normal-text">
            <p>Short paragraph.</p>
            <p>This is a medium length paragraph that will wrap to multiple lines and test if the last character clipping issue is resolved. We need to check each line carefully.</p>
            <p>This is a much longer paragraph designed to create many line breaks in the narrow container. Each line should end properly with the last character fully visible. The encryption should work seamlessly across all these different paragraph lengths and line break scenarios.</p>
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">Test 7: Edge Cases - Special Characters</div>
        <div class="medium normal-text">
            Testing with various characters: ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789 !@#$%^&*() The last character of each line should be visible regardless of what character it is. This includes letters, numbers, and special characters.
        </div>
    </div>
    
    <div class="test-section">
        <div class="test-title">Test 8: Very Long Single Word (Should Not Break)</div>
        <div class="narrow normal-text">
            ThisIsAVeryLongWordThatShouldNotBreakButIfItDoesTheLastCharacterShouldStillBeVisible. Regular text follows to test normal wrapping behavior after the long word.
        </div>
    </div>
    
    <script src="/client/encrypt-page.js"></script>
    <script>
        // Update status when encryption completes
        window.addEventListener('load', function() {
            setTimeout(function() {
                const statusEl = document.getElementById('status');
                statusEl.textContent = 'âœ… Encryption complete - Check each line for last character visibility';
                statusEl.style.color = '#4CAF50';
            }, 2000);
        });
    </script>
</body>
</html>

